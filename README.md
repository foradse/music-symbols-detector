# music-symbols-detector

–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏ –Ω–∞—Ä–µ–∑–∫–∞ –Ω–æ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é OpenCV.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–æ—Ç –≤ –ø–∞–ø–∫—É `input/`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: `.png`, `.jpg`, `.jpeg`, `.bmp`
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, —Ç–∞–∫ –∏ —Ü–µ–ª—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–∞–º–∞ –Ω–∞—Ä–µ–∂–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã.

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```sh
pip install opencv-python numpy
```

### 3. –ó–∞–ø—É—Å—Ç–∏ –∞–≤—Ç–æ–Ω–∞—Ä–µ–∑–∫—É
```sh
python part_cut.py --input input --output output/parts --prefix myprefix_
```

–ü–æ—è–≤—è—Ç—Å—è –ø–∞–ø–∫–∏:
- `positive/[–∫–ª–∞—Å—Å]/` ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- `unknown/unknown/` ‚Äî –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ
- `debug/` ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ä–∞–º–∫–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å—è–º–∏ –∫–ª–∞—Å—Å–æ–≤
- `annotations.txt` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenCV –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫–æ–Ω—Ç—É—Ä–æ–≤.
- –†–∞–∑–º–µ—Ä –∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ (`SYMBOL_CLASSES`).
- –î–ª—è –¥–∏–µ–∑–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ª–∏–Ω–∏—è–º (HoughLines).
- –í—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
recognize/
‚îú‚îÄ‚îÄ positive_images/        # –≤—Ä—É—á–Ω—É—é —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ clef_g/, diez/, ...
‚îú‚îÄ‚îÄ negative_images/        # –≤—Ä—É—á–Ω—É—é —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
‚îú‚îÄ‚îÄ annotations/            # –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
‚îú‚îÄ‚îÄ samples/                # –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ classifier/             # –æ–±—É—á–µ–Ω–Ω—ã–µ XML-—Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ results/                # —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
input/                      # –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–Ω–∞—Ä–µ–∑–∫–∏
output/parts/               # —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞—Ä–µ–∑–∫–∏ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
```

---

## üß∑ –§–æ—Ä–º–∞—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
–§–∞–π–ª: `output/parts/annotations.txt`
```
[–∫–ª–∞—Å—Å]/[–∏–º—è_—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞] x y w h
```
–ü—Ä–∏–º–µ—Ä:
```
diez/diez_01.png 12 15 33 40
```

---

## üß© –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ 35 –∫–ª–∞—Å—Å–æ–≤ –Ω–æ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ: –º–∏–Ω–∏–º—É–º 30 –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∏ –º–∏–Ω–∏–º—É–º 100 –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –†–∞–∑–º–µ—Ç–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

---

## üë• –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π
**–ù–∞—Ä–µ–∑—á–∏–∫–∏:**
- –ù–∞—Ä–µ–∑–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `positive_images/[–∫–ª–∞—Å—Å]/`
- –°–æ–±–∏—Ä–∞—Ç—å –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî –≤ `negative_images/[–∫–ª–∞—Å—Å]/`
- –ò–º–µ–Ω–æ–≤–∞—Ç—å –ø–æ —à–∞–±–ª–æ–Ω—É: `001.jpg`, `002.jpg`, ...

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –°–æ–∑–¥–∞–Ω–∏–µ `positives.txt`, `negatives.txt`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `.vec` —á–µ—Ä–µ–∑ `opencv_createsamples`
- –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `opencv_traincascade`

---

## üß† –°–æ–≤–µ—Ç—ã
- –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—ë—Ç–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, 1 —Å–∏–º–≤–æ–ª –Ω–∞ —Ñ–æ–Ω–µ
- –†–∞–∑–º–µ—Ä —Å–∏–º–≤–æ–ª–∞ ‚Äî –æ—Ç 30√ó30 –¥–æ 100√ó100 –ø–∏–∫—Å–µ–ª–µ–π
- –í `unknown` –ø–æ–ø–∞–¥–∞—é—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, –Ω–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –Ω–∏ –ø–æ–¥ –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä
- –ï—Å–ª–∏ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –Ω—É–∂–Ω—ã–π —Å–∏–º–≤–æ–ª ‚Äî –æ–±–Ω–æ–≤–∏ —Ñ–∏–ª—å—Ç—Ä –≤ `SYMBOL_CLASSES`

---

## üõ† –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
- –§–∞–π–ª –≤ `unknown`, –ø–æ—Ç–æ–º—É —á—Ç–æ:
  - –ö–æ–Ω—Ç—É—Ä —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π/–±–æ–ª—å—à–æ–π
  - –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞
- `annotations.txt` –ø—É—Å—Ç–æ–π ‚Äî –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- –ü–∞–ø–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ GitHub ‚Äî –¥–æ–±–∞–≤—å –≤ –Ω–∏—Ö `.gitkeep`


