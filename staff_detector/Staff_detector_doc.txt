Документация к программе StaffDetector

1. Описание
Программа предназначена для автоматического обнаружения и извлечения нотных станов с изображений нотных листов. Она использует методы компьютерного зрения на базе библиотеки OpenCV.

2. Класс StaffDetector
Основной класс, реализующий функциональность загрузки изображения, обнаружения линий, группировки линий в станы, извлечения и визуализации областей.

3. Методы класса

__init__(image_path: str)
Инициализация класса с загрузкой изображения.

load_image()
Загрузка и предобработка изображения (серый формат и бинаризация).

detect_horizontal_lines(min_line_length=100, max_line_gap=10)
Обнаружение горизонтальных линий методом морфологической фильтрации и нахождения контуров.

group_lines_into_staffs(max_line_gap=20, min_lines_in_staff=4)
Группировка линий в станы на основе расстояния между ними.

_create_staff(lines)
Создание структуры данных для описания одного стана.

extract_staff_areas(output_dir=None)
Извлечение и (опционально) сохранение изображений станов.

visualize(output_path=None)
Визуализация линий и станов на изображении.

print_coordinates()
Вывод координат извлечённых станов в консоль.

run_pipeline(output_dir=None)
Запуск полного пайплайна обработки: обнаружение, группировка, извлечение.

4. Пример использования
Программа может быть запущена как отдельный скрипт. Ниже приведён пример:

```python
if __name__ == '__main__':
    detector = StaffDetector("test2.png")
    staff_regions = detector.run_pipeline(output_dir="extracted_staffs")
    detector.visualize(output_path="detection_result.png")
    print("Обработка завершена!")
```
