# Группа 6: Интерфейс программы (GUI)

## Задача
Сделать простое приложение: загружаешь изображение, нажимаешь кнопку — получаешь результат. Десктопное приложение с графическим интерфейсом.

## Команда
1 человек

## Что нужно сделать

### 1. Создание GUI интерфейса
- **Окно приложения:** главное окно с меню
- **Область загрузки:** drag & drop или кнопка выбора файла
- **Область предпросмотра:** показ загруженного изображения
- **Кнопки управления:** "Обработать", "Сохранить", "Очистить"
- **Область результатов:** показ найденных символов и станов

### 2. Интеграция с модулями
- **Загрузка изображения:** проверка формата и размера
- **Вызов пайплайна:** запуск обработки через группу 7
- **Отображение прогресса:** прогресс-бар и статус
- **Показ результатов:** визуализация найденных элементов

### 3. Обработка результатов
- **Визуализация станов:** выделение найденных нотных строк
- **Показ символов:** отображение распознанных символов
- **Статистика:** количество станов, символов, точность
- **Экспорт:** сохранение MusicXML файла

### 4. Пользовательский опыт
- **Интуитивный интерфейс:** понятные кнопки и меню
- **Обработка ошибок:** понятные сообщения об ошибках
- **Настройки:** возможность изменения параметров
- **Справка:** встроенная помощь

## Технологии
- **tkinter** - стандартная библиотека Python для GUI
- **PIL (Pillow)** - для работы с изображениями
- **matplotlib** - для визуализации результатов
- **threading** - для неблокирующей обработки

## Структура файлов
```
interface/
├── app.py              # Основное приложение
├── gui/                # GUI компоненты
│   ├── main_window.py  # Главное окно
│   ├── image_viewer.py # Просмотрщик изображений
│   └── results_view.py # Отображение результатов
├── utils/              # Утилиты
│   ├── file_handler.py # Обработка файлов
│   └── image_utils.py  # Работа с изображениями
└── README.md           # Этот файл
```

## Как запустить

### Основное приложение:
```bash
cd interface
python app.py
```

### Или через модуль:
```python
from interface.app import MusicSymbolDetectorApp

app = MusicSymbolDetectorApp()
app.run()
```

## Входные данные
- Изображения нотных листов (PNG, JPG, TIFF, BMP)
- Размер: до 50MB
- Формат: цветное или черно-белое

## Выходные данные
- Визуализация результатов на экране
- MusicXML файл для сохранения
- Отчет о обработке
- Изображения с выделенными элементами

## Цели
1. **Удобство использования:** интуитивный интерфейс
2. **Скорость работы:** быстрая загрузка и обработка
3. **Надежность:** стабильная работа без крашей
4. **Функциональность:** все основные возможности

## Критерии готовности
- [ ] Приложение запускается без ошибок
- [ ] Можно загрузить изображение (drag & drop + кнопка)
- [ ] Отображается предпросмотр загруженного изображения
- [ ] Кнопка "Обработать" запускает пайплайн
- [ ] Показывается прогресс обработки
- [ ] Отображаются результаты (станы, символы)
- [ ] Можно сохранить MusicXML файл
- [ ] Обрабатываются ошибки (неверный формат, большие файлы)
- [ ] Интерфейс выглядит современно и профессионально

## Связь с другими группами
- **Вход:** изображения от пользователя
- **Обработка:** вызов пайплайна группы 7
- **Результаты:** отображение результатов всех групп
- **Экспорт:** MusicXML от группы 4

## Структура интерфейса

### Главное окно:
```
┌─────────────────────────────────────────┐
│ Music Symbols Detector                  │
├─────────────────────────────────────────┤
│ [Загрузить изображение] [Обработать]    │
├─────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────────────┐ │
│ │ Предпросмотр│ │ Результаты          │ │
│ │ изображения │ │ - Найдено станов: X │ │
│ │             │ │ - Найдено символов: Y│ │
│ │             │ │ - Точность: Z%      │ │
│ └─────────────┘ └─────────────────────┘ │
├─────────────────────────────────────────┤
│ [Сохранить MusicXML] [Очистить]         │
└─────────────────────────────────────────┘
```

## Тестирование
1. **Простые случаи:** загрузка и обработка изображений
2. **Сложные случаи:** большие файлы, разные форматы
3. **Граничные случаи:** пустые файлы, поврежденные изображения

## Советы
1. Начните с простого интерфейса
2. Используйте современные виджеты tkinter
3. Добавьте прогресс-бар для длительных операций
4. Обрабатывайте ошибки в отдельном потоке
5. Тестируйте на разных размерах окон

## Если застряли
1. Изучите документацию tkinter
2. Посмотрите примеры GUI приложений
3. Используйте отладчик для поиска ошибок
4. Проверьте совместимость с Python версией
5. Обратитесь к Адлану за помощью

## Полезные ссылки
- [tkinter Documentation](https://docs.python.org/3/library/tkinter.html)
- [PIL/Pillow Documentation](https://pillow.readthedocs.io/)
- [matplotlib GUI Integration](https://matplotlib.org/stable/users/explain/figure/backends.html)

## Рекомендации по дизайну
- **Цветовая схема:** темная тема или светлая
- **Шрифты:** читаемые, современные
- **Иконки:** понятные, минималистичные
- **Размеры:** адаптивные под разрешение экрана
- **Анимации:** плавные переходы и загрузка

## Настройки приложения
```python
# Размеры окна
WINDOW_WIDTH = 1200
WINDOW_HEIGHT = 800

# Поддерживаемые форматы
SUPPORTED_FORMATS = ['.png', '.jpg', '.jpeg', '.tiff', '.bmp']

# Максимальный размер файла (50MB)
MAX_FILE_SIZE = 50 * 1024 * 1024

# Пути к модулям
PIPELINE_PATH = "../pipeline/main.py"
MODELS_PATH = "../models/"
```

## Ожидаемые результаты
- **Время загрузки:** < 2 секунды
- **Время обработки:** зависит от размера изображения
- **Пользовательский опыт:** интуитивно понятный интерфейс
- **Стабильность:** работа без крашей 